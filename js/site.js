class LunetSearch{constructor(){this._reason="Search not initialized";this._ws=new Worker("/js/lunet-search.js");this._commandId=0}get available(){return!0}get reason(){return this._reason}query(n){this._commandId++;this._reason="Searching...";var t=this;return new Promise(function(i,r){var u=new MessageChannel;u.port1.onmessage=n=>{"results"in n.data?i(n.data.results):r(n.data.reason)};t._ws.postMessage({command:"query",args:n},[u.port2])})}}const DefaultLunetSearch=new LunetSearch
